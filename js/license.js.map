{"version":3,"sources":["../../../app/js/license.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAeA,SAAS,WAAT,CAAqB,EAArB,EAAyB;AACvB,MAAI,OAAO,SAAS,cAAT,CAA2B,WAA3B,CAAP,CADmB;AAEvB,MAAI,OAAO,SAAS,cAAT,CAA2B,WAA3B,CAAP,CAFmB;AAGvB,MAAI,QAAQ,SAAS,cAAT,CAA2B,WAA3B,CAAR,CAHmB;AAIvB,MAAI,QAAQ,SAAS,cAAT,CAA2B,WAA3B,CAAR,CAJmB;AAKvB,MAAI,UAAU,SAAS,cAAT,CAA2B,aAA3B,CAAV,CALmB;AAMvB,MAAI,KAAJ,CANuB;;AAQvB,OAAK,OAAL,GAAe,YAAW;;AAExB,QAAI,KAAK,CAAL,CAFoB;AAGxB,QAAI,KAAK,CAAL,CAHoB;AAIxB,QAAI,QAAQ,IAAR;;;AAJoB,WAOxB,CAAQ,KAAR,CAAc,GAAd,GAAoB,KAApB;;;AAPwB,SAUxB,CAAM,KAAN,CAAY,OAAZ,GAAsB,OAAtB;;;AAVwB,SAaxB,GAAQ,YAAY,YAAW;;AAE7B,UAAI,OAAO,QAAQ,YAAR,GAAuB,MAAM,YAAN;;;AAFL,UAKzB,KAAK,IAAK,IAAJ,EAAD,CAAa,OAAb,EAAL,CALyB;AAM7B,UAAI,KAAK,EAAC,KAAO,CAAP,GAAY,EAAb,GAAmB,KAAK,EAAL,CANC;AAO7B,WAAK,EAAL;;;AAP6B,WAU7B,IAAS,EAAT,CAV6B;AAW7B,UAAI,QAAQ,CAAR,EAAW;AACb,eADa;OAAf;;;AAX6B,UAgBzB,OACF,KAAK,GAAL,CAAS,SAAS,QAAQ,KAAR,CAAc,GAAd,EAAmB,EAA5B,CAAT,IAA6C,EAAC,GAAK,EAAL,GAAW,EAAZ,CAjBlB;AAkB7B,UAAI,OAAO,CAAP,EAAU;AACZ,gBAAQ,KAAR,CAAc,GAAd,GAAoB,CAAE,CAAD,GAAK,IAAL,GAAa,IAAd,CADR;OAAd,MAEO;AACL,gBAAQ,KAAR,CAAc,GAAd,GAAoB,KAApB,CADK;OAFP;;;;AAlB6B,UA0BzB,IAAC,IAAQ,IAAR,IAAkB,KAAK,CAAL,EAAS;AAC9B,gBAAQ,IAAR,CAD8B;AAE9B,aAAK,CAAC,EAAD,CAFyB;OAAhC,MAGO,IAAI,IAAC,IAAQ,CAAR,IAAe,KAAK,CAAL,EAAS;AAClC,gBAAQ,IAAR,CADkC;AAElC,aAAK,CAAL,CAFkC;OAA7B;KA7BW,EAiCjB,EAjCK,CAAR,CAbwB;GAAX,CARQ;;AAyDvB,OAAK,OAAL,GAAe,YAAW;AACxB,UAAM,KAAN,CAAY,OAAZ,GAAsB,MAAtB,CADwB;AAExB,kBAAc,KAAd,EAFwB;GAAX,CAzDQ;CAAzB","file":"license.js","sourcesContent":["/*\n * Copyright (c) 2012, Intel Corporation.\n *\n * This program is licensed under the terms and conditions of the\n * Apache License, version 2.0.  The full text of the Apache License is at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n */\n\n/* exported licenseInit */\n\n/**\n * Add click handlers for the license dialog.\n * @param {string} id The id of the license button.\n */\nfunction licenseInit(id) {\n  var lbtn = document.getElementById(`${id}btnl`);\n  var qbtn = document.getElementById(`${id}btnq`);\n  var lpage = document.getElementById(`${id}page`);\n  var ltext = document.getElementById(`${id}text`);\n  var lscroll = document.getElementById(`${id}scroll`);\n  var timer;\n\n  lbtn.onclick = function() {\n    /* initialize scroll rate */\n    var dY = 2;\n    var t0 = 0;\n    var delay = 1000;\n\n    /* set the scroller to the top position */\n    lscroll.style.top = '0px';\n\n    /* display the license page */\n    lpage.style.display = 'block';\n\n    /* start the autoscroll interval */\n    timer = setInterval(function() {\n      /* calculate the scroll length when the window is shown */\n      var maxY = lscroll.clientHeight - ltext.clientHeight;\n\n      /* get the actual interval, in case performance slows us down */\n      var t1 = (new Date()).getTime();\n      var dT = (t0 === 0) ? 20 : (t1 - t0);\n      t0 = t1;\n\n      /* delay specific number of milliseconds */\n      delay -= dT;\n      if (delay > 0) {\n        return;\n      }\n\n      /* calculate the new top position using dY and dT */\n      var newY =\n        Math.abs(parseInt(lscroll.style.top, 10)) + ((dT / 40) * dY);\n      if (newY > 0) {\n        lscroll.style.top = (-1 * newY) + 'px';\n      } else {\n        lscroll.style.top = '0px';\n      }\n\n      /* if the lscroll has hit the limit, delay and swing */\n      /* the other way */\n      if ((newY >= maxY) && (dY > 0)) {\n        delay = 5000;\n        dY = -20;\n      } else if ((newY <= 0) && (dY < 0)) {\n        delay = 5000;\n        dY = 2;\n      }\n    }, 40);\n  };\n\n  qbtn.onclick = function() {\n    lpage.style.display = 'none';\n    clearInterval(timer);\n  };\n}\n"]}